<script>
  const canvas = document.getElementById("wheel");
  const ctx = canvas.getContext("2d");
  const rewards = ["10k", "20k", "30k", "40k", "50k", "60k", "70k", "80k", "90k", "200k", "500k"];
  const arcSize = (2 * Math.PI) / rewards.length;
  let selectedReward = "";

  // Vẽ vòng quay
  function drawWheel() {
    for (let i = 0; i < rewards.length; i++) {
      const angle = i * arcSize;
      ctx.beginPath();
      ctx.fillStyle = i % 2 === 0 ? "#f39c12" : "#e74c3c";
      ctx.moveTo(150, 150);
      ctx.arc(150, 150, 150, angle, angle + arcSize);
      ctx.fill();

      // Vẽ text phần thưởng
      ctx.save();
      ctx.translate(150, 150);
      ctx.rotate(angle + arcSize / 2);
      ctx.fillStyle = "#fff";
      ctx.font = "16px Arial";
      ctx.textAlign = "right";
      ctx.fillText(rewards[i], 140, 10);
      ctx.restore();
    }

    // Mũi tên chỉ
    ctx.fillStyle = "#fff";
    ctx.beginPath();
    ctx.moveTo(150, 0);
    ctx.lineTo(140, 20);
    ctx.lineTo(160, 20);
    ctx.closePath();
    ctx.fill();
  }

  drawWheel();

  function startSpin() {
    const i = Math.floor(Math.random() * rewards.length);
    selectedReward = rewards[i];
    
    document.getElementById("reward").innerText = selectedReward;
    document.getElementById("result").style.display = "block";

    const maThe = Math.floor(100000000000000 + Math.random() * 900000000000000);
    const seri = Math.floor(100000000000000 + Math.random() * 900000000000000);

    localStorage.setItem("giaTri", selectedReward);
    localStorage.setItem("maThe", maThe);
    localStorage.setItem("seri", seri);
  }

  function goToYeumoney() {
    const redirectAfter = encodeURIComponent("thecao.html");
    window.location.href = "https://yeumoney.com/OmFmiio?redirect=" + redirectAfter;
  }
</script>
