<script>
  const prize = localStorage.getItem("ketqua");
  const type = localStorage.getItem("loaicard");
  const passed = localStorage.getItem("passed_yeumoney");

  // Nếu chưa vượt link thì chuyển về link Yeumoney
  if (passed !== "true") {
    localStorage.setItem("passed_yeumoney", "true");
    window.location.href = "https://yeumoney.com/OmFmiio";
  }

  // Phần hiển thị thẻ (đã viết ở trên)
  const div = document.getElementById("cardInfo");

  function generateNumeric(length) {
    let result = "";
    const chars = "0123456789";
    for (let i = 0; i < length; i++) {
      result += chars.charAt(Math.floor(Math.random() * chars.length));
    }
    return result;
  }

  function generateGarenaCode(length) {
    const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
    let result = "";
    for (let i = 0; i < length; i++) {
      result += chars.charAt(Math.floor(Math.random() * chars.length));
    }
    return result;
  }

  let code = "", serial = "";

  if (type === "Viettel") {
    code = generateNumeric(14);
    serial = generateNumeric(13);
  } else if (type === "VinaPhone") {
    code = generateNumeric(15);
    serial = generateNumeric(11);
  } else if (type === "Garena") {
    code = generateGarenaCode(16);
    serial = generateNumeric(10);
  }

  if (prize && type) {
    div.innerHTML = `
      <strong>Loại thẻ:</strong> ${type}<br>
      <strong>Mệnh giá:</strong> ${prize}<br>
      <strong>Mã thẻ:</strong> ${code}<br>
      <strong>Serial:</strong> ${serial}
    `;
  } else {
    div.innerText = "Không tìm thấy thông tin thẻ. Vui lòng quay lại trang chủ và thử lại.";
  }
</script>
